<?xml version="1.0" encoding="UTF-8"?>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/xhtml.xhtml to edit this template
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:ui="jakarta.faces.facelets"
      lang="#{facesContext.externalContext.requestLocale.language}">

<h:head>
    <meta charset="UTF-8"/>
    <title>EZMart</title>
    <link rel="icon" type="image/png" href="#{facesContext.externalContext.requestContextPath}/images/web_logo.png" sizes="192x192"/>
    <link rel="apple-touch-icon" href="#{facesContext.externalContext.requestContextPath}/images/web_logo.png"/>

     <title>EZMart Global Header</title>
        <!-- Google Fonts: Plus Jakarta Sans -->
        <link href="https://fonts.googleapis.com" rel="preconnect"/>
        <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
        <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&amp;display=swap" rel="stylesheet"/>
        <!-- Material Symbols -->
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
        <!-- Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
        <!-- Theme Configuration -->
        <script id="tailwind-config">
            tailwind.config = {
                darkMode: "class",
                theme: {
                    extend: {
                        colors: {
                            "primary": "#17cf54",
                            "background-light": "#f6f8f6",
                            "background-dark": "#0f1724",
                        },
                        fontFamily: {
                            "display": ["Plus Jakarta Sans", "sans-serif"]
                        },
                        borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                    },
                },
            }
        </script>
        <style>
            .material-symbols-outlined {
                font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
                vertical-align: middle;
            }
        </style>
</h:head>


<h:body class="bg-background-light dark:bg-background-dark transition-colors duration-200 min-h-screen">
    <ui:include src="header.xhtml"/>

    <main>
        <ui:insert name="content"/>
    </main>

    <ui:include src="footer.xhtml"/>
    <script src="#{facesContext.externalContext.requestContextPath}/resources/js/modal-accessibility.js"></script>
    <script>
    //<![CDATA[
        // Smooth scroll helper for sidebar links
        document.addEventListener('click', function(e){
            var t = e.target;
            while (t && t !== document) {
                if (t.matches && t.matches('a[data-scroll-to]')) {
                    e.preventDefault();
                    var id = t.getAttribute('data-scroll-to');
                    var el = document.getElementById(id);
                    if (el) el.scrollIntoView({behavior:'smooth', block:'start'});
                    return;
                }
                t = t.parentNode;
            }
        });
    //]]>
    </script>
    <script>
    //<![CDATA[
        // Move modals to body to avoid stacking-context issues
        document.addEventListener('DOMContentLoaded', function() {
            ['addressModal', 'avatarViewModal', 'paymentModal'].forEach(function(id) {
                try {
                    var el = document.getElementById(id);
                    if (el && el.parentNode !== document.body) {
                        // ensure overlay/fullscreen positioning and high z-index
                        el.style.position = 'fixed';
                        el.style.left = '0';
                        el.style.top = '0';
                        el.style.width = '100%';
                        el.style.height = '100%';
                        el.style.zIndex = '200000';
                        document.body.appendChild(el);
                    }
                } catch (e) {
                    // ignore
                }
            });
        });
    //]]>
    </script>
</h:body>
</html>

