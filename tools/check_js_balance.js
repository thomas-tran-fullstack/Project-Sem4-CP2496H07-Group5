const fs = require('fs'); const path = 'C:/Users/Admin/Documents/GitHub/Project-Sem4-CP2496H07-Group5/EZMart_Supermarket_Management-war/web/resources/js/profile-address.js'; const s = fs.readFileSync(path, 'utf8'); const counts = { single: 0, double: 0, back: 0 }; for (const c of s) { if (c === "'") counts.single++; else if (c === '"') counts.double++; else if (c === String.fromCharCode(96)) counts.back++; } console.log('single:', counts.single, 'double:', counts.double, 'backtick:', counts.back); const lines = s.split(/\r?\n/); let stack = []; let inSingle = false, inDouble = false, inBack = false, escapeNext = false; for (let i = 0; i < lines.length; i++) { const line = lines[i]; for (let j = 0; j < line.length; j++) { const ch = line[j]; if (escapeNext) { escapeNext = false; continue; } if (inSingle) { if (ch === '\\') escapeNext = true; else if (ch === "'") inSingle = false; continue; } if (inDouble) { if (ch === '\\') escapeNext = true; else if (ch === '"') inDouble = false; continue; } if (inBack) { if (ch === '\\') escapeNext = true; else if (ch === String.fromCharCode(96)) inBack = false; continue; } if (ch === "'") inSingle = true; else if (ch === '"') inDouble = true; else if (ch === String.fromCharCode(96)) inBack = true; else if (ch === '(' || ch === '{' || ch === '[') stack.push({ c: ch, line: i + 1 }); else if (ch === ')' || ch === '}' || ch === ']') { if (stack.length === 0) { console.log('Unmatched closer', ch, 'at', i + 1); } else { const top = stack[stack.length - 1]; if ((top.c === '(' && ch === ')') || (top.c === '{' && ch === '}') || (top.c === '[' && ch === ']')) stack.pop(); else { console.log('Mismatched at', i + 1, 'expected close for', top.c, 'but got', ch); stack.pop(); } } } } } if (inSingle || inDouble || inBack) console.log('Unterminated string literal at EOF:', { inSingle, inDouble, inBack }); if (stack.length) { console.log('UNMATCHED OPENINGS:'); stack.forEach(it => console.log(it.c, 'line', it.line)); } else { console.log('All brackets matched (ignoring strings).'); }